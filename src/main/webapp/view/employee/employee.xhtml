<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:bnu="http://bootsfaces.net/ui">

    <f:view locale="#{ userData.locale}"/>


    <h:head>
        <title>Employees</title>
    </h:head>
    <h:body>


        <ui:composition template="../../template/template.xhtml">

            <ui:define name="content">
                #{employeeController.init()}
                <h:form>
                    <div class="row" style="background-color: #f5f5f5; display: block; width: 100%;
                         padding: 0; margin: 0;">
                        <h1 style="padding-left: 2%">#{messages.employees}</h1> 
                    </div>

                    <br></br>
                    <br></br>
                    <br></br>
                    <bnu:row>
                        <bnu:column span="3" style="float:right">
                            <bnu:button value="#{messages.btnAddEmployee}" look="success" onclick="$('.modalPseudoClass').modal()" ></bnu:button>
                        </bnu:column>
                    </bnu:row>
                    <bnu:row>
                        <bnu:column span="12">
                            <bnu:messages  />
                        </bnu:column>
                    </bnu:row>
                    <p:separator/>

                    <bnu:inputText placeholder="#{messages.inputFilterbyName}"  tiny-screen="one-fourth" style="font-family: cursive" />

                    <bnu:commandButton value="" iconAwesome="fa-cogs"  style="float: right" />
                    <bnu:commandButton value="" iconAwesome="fa-print" style="float: right" />

                    <!-- addind table for showing employees -->
                    <h:dataTable  styleClass="table table-striped" rows="10"  
                                  var="empList" value="#{employeeController.empL}" >
                        <h:column >
                            <f:facet name="header">
                                <h:outputText value="#{messages.firstNameC}"  />
                            </f:facet>
                            <h:outputText value="#{empList.firstname}" />
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="#{messages.phoneNumberC}" />
                            </f:facet>
                            <h:outputText value="#{empList.phone}" />
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="#{messages.emailAddC}" />
                            </f:facet>
                            <h:outputText value="#{empList.email}" />
                        </h:column>
                        <bnu:dataTableColumn label="#{messages.Tcampo4}">
                            <bnu:dropButton value="#{messages.edit}" look="primary" >
                                <bnu:commandButton value="#{messages.edit}" action="#{employeeController.action(empList, 'U')}" style="width:100%" />
                                <bnu:commandButton value="#{messages.delete}" action="#{employeeController.action(empList, 'D')}" style="width:100%" />
                            </bnu:dropButton>
                        </bnu:dataTableColumn> 

                    </h:dataTable>
                </h:form>
                <p:separator/>
                
                <!--Modal para agregar empleado -->
                <bnu:modal  id="amodal" title="#{messages.btnAddEmployee}" styleClass="modalPseudoClass" backdrop="false" >
                    <h:form id="addModal">
                        <bnu:row>
                            <bnu:panel span="6">
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.titleC}" value="#{employeeController.emp.title}" maxlength="50" ></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.fNameC}" value="#{employeeController.emp.firstname}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.midNameC}" value="#{employeeController.emp.middlename}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.lastNameC}" value="#{employeeController.emp.lastname}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.suffixC}" value="#{employeeController.emp.suffixx}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.emailC}" value="#{employeeController.emp.email}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.gender}" value="#{employeeController.emp.gender}" maxlength="20"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.dateBirth}" value="#{employeeController.emp.dateOfBirth}" maxlength="20"></bnu:inputText>
                                </bnu:column>
                            </bnu:panel>
                            <bnu:panel span="6">
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.phoneC}" value="#{employeeController.emp.phone}" maxlength="20"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.mobileC}" value="#{employeeController.emp.mobile}" maxlength="20"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputTextarea label="#{messages.streetC}" value="#{employeeController.emp.street}"></bnu:inputTextarea>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.cityE}" value="#{employeeController.emp.city}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.stateE}" value="#{employeeController.emp.state}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.postalCC}" value="#{employeeController.emp.postalCode}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.countryC}" value="#{employeeController.emp.country}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                            </bnu:panel>
                        </bnu:row>
                        <bnu:row>
                            <bnu:column span="12">
                                <bnu:messages id="msg" />
                            </bnu:column>
                        </bnu:row>
                        <bnu:row>
                            <bnu:column span="6">
                                <bnu:commandButton value="#{messages.save}" look="success" 
                                                   action="#{employeeController.addEmployee()}" update="@form" >
                                </bnu:commandButton>
                            </bnu:column>
                        </bnu:row>

                    </h:form>
                </bnu:modal>

                <!--Modal editar employee -->
                <bnu:modal  id="bmodal" title="#{messages.empInfo}" styleClass="modalPseudoClass2" backdrop="false" >
                    <h:form id="editForm">
                        <bnu:row>
                            <bnu:panel span="6">
                                <bnu:inputText label="#{messages.titleC}" value="#{employeeController.empleado.title}" maxlength="50"></bnu:inputText>
                                    <bnu:inputText label="#{messages.fNameC}" value="#{employeeController.empleado.firstname}"></bnu:inputText>
                                    <bnu:inputText label="#{messages.midNameC}" value="#{employeeController.empleado.middlename}" maxlength="50"></bnu:inputText>
                                    <bnu:inputText label="#{messages.lastNameC}" value="#{employeeController.empleado.lastname}" maxlength="50"></bnu:inputText>
                                    <bnu:inputText label="#{messages.suffixC}" value="#{employeeController.empleado.suffixx}"></bnu:inputText>
                                    <bnu:inputText label="#{messages.emailC}" value="#{employeeController.empleado.email}" maxlength="50"></bnu:inputText>            
                                    <bnu:inputText label="#{messages.gender}" value="#{employeeController.empleado.gender}" maxlength="20"></bnu:inputText>                             
                                    <bnu:inputText label="#{messages.dateBirth}" value="#{employeeController.empleado.dateOfBirth}" maxlength="20"></bnu:inputText>
                            </bnu:panel>
                            <bnu:panel span="6">
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.phoneC}" value="#{employeeController.empleado.phone}"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.mobileC}" value="#{employeeController.empleado.mobile}"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputTextarea label="#{messages.streetC}" value="#{employeeController.empleado.street}"></bnu:inputTextarea>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.cityE}" value="#{employeeController.empleado.city}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.stateE}" value="#{employeeController.empleado.state}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.postalCC}" value="#{employeeController.empleado.postalCode}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                                <bnu:column>    
                                    <bnu:inputText label="#{messages.countryC}" value="#{employeeController.empleado.country}" maxlength="50"></bnu:inputText>
                                </bnu:column>
                            </bnu:panel>
                        </bnu:row>
                        
                            <bnu:commandButton value="#{messages.save}" look="success" action="#{employeeController.editEmployee()}"  />
                        

                    </h:form>
                </bnu:modal>
                
                <!-- modal delete-->
                <bnu:modal id="cmodal"  styleClass="modalPseudoClass3" backdrop="false" closable="false" closeOnEscape="false"  >
                    <h:form id="deleteForm">
                        <p>#{messages.deleteC}</p>
                        <bnu:commandButton value="#{messages.yes}" look="success" action="#{employeeController.deleteEmployee()}"  />
                        <bnu:button value="#{messages.No}" dismiss="modal" look="danger" />
                    </h:form>
                </bnu:modal>
                

            </ui:define>
        </ui:composition>
    </h:body>
</html>

