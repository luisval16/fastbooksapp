<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:bnu="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui">

    <f:view locale="#{ userData.locale}"/>

    <h:head>
        <title>Sales</title>

    </h:head>
    <h:body>

        <ui:composition template="../../template/template.xhtml">

            <ui:define name="content">
                #{customerController.init()}

                <div class="row" style="background-color: #f5f5f5; display: block; width: 100%;
                     padding: 0; margin: 0;">
                    <h1 style="padding-left: 2%">#{messages.Sales}</h1> 
                </div>
                
                <br></br>
                
                
                
                <bnu:tabView active-index="#{userData.salesIndex}">
                    <bnu:tab title="#{messages.Sales}"  onclick="ajax:invoiceTableController.changeTab(0);"  >
                        <ui:include src="invoice.xhtml"  />
                    
                    </bnu:tab>
                    
                    <bnu:tab title="#{messages.customer}" onclick="ajax:invoiceTableController.changeTab(1);"  >
                            <h:form>
                            <br></br><br></br>

                            <bnu:row>
                                <bnu:column>
                                    <bnu:button        
                                        value="#{messages.newC}" look="success" 
                                        style="float: right" onclick="$('.modalPseudoClass').modal()"/>
                                </bnu:column>
                            </bnu:row>
                            <bnu:row>
                                <bnu:column span="12">
                                    <bnu:messages  />
                                </bnu:column>
                            </bnu:row>

                            <br></br><br></br>

                            <bnu:dropButton value="#{messages.batchA}" style="float: left">
                                <bnu:navLink value="#{messages.createS}"></bnu:navLink>
                                <bnu:navLink value="#{messages.emailC}"></bnu:navLink>
                            </bnu:dropButton>

                            <bnu:commandButton value="" iconAwesome="fa-cogs"  style="float: right" />
                            <bnu:commandButton value="" iconAwesome="fa-clipboard" style="float: right" />
                            <bnu:commandButton value="" iconAwesome="fa-print" style="float: right" />

                            <bnu:dataTable  styleClass="table table-striped"
                                            value="#{customerController.custL}" 
                                            
                                            var="cust"
                                           >
                                <bnu:dataTableColumn label="#{messages.Tcampo1}" value="#{cust.firstname}"></bnu:dataTableColumn>
                                <bnu:dataTableColumn label="#{messages.Tcampo2}" value="#{cust.phone}"></bnu:dataTableColumn>
                                <bnu:dataTableColumn label="#{messages.Tcampo3}" value="#{cust.balance.toString()}"></bnu:dataTableColumn>            
                                <bnu:dataTableColumn label="#{messages.Tcampo4}">
                                    <bnu:dropButton value="#{messages.edit}" look="primary" >
                                        <bnu:commandButton value="#{messages.edit}" action="#{customerController.editCustomer(cust, 'U')}" style="width:100%" />
                                        <bnu:commandButton value="#{messages.delete}" action="#{customerController.editCustomer(cust, 'D')}" style="width:100%" />

                                    </bnu:dropButton>
                                </bnu:dataTableColumn> 
                            </bnu:dataTable>
                            </h:form>
                        <p:separator/>

                        </bnu:tab> 
                    <bnu:tab title="#{messages.ProdNServ}"  onclick="ajax:invoiceTableController.changeTab(2);" >
                        <ui:include src="product.xhtml"  />
                    </bnu:tab>
                    </bnu:tabView>
                
                
                <!--Modal add-->
                <bnu:modal id="amodal" title="#{messages.custInfo}" styleClass="modalPseudoClass" backdrop="false">
                    <h:form>      
                        <bnu:row>
                            <bnu:panel span="6">
                                <h:outputLabel value="#{messages.titleC}" ></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.title}" maxlength="50"></bnu:inputText>
                                <h:outputLabel value="#{messages.fNameC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.firstname}" maxlength="50"></bnu:inputText>
                                <h:outputLabel value="#{messages.midNameC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.middlename}" maxlength="50"></bnu:inputText>
                                <h:outputLabel value="#{messages.lastNameC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.lastname}" maxlength="50"></bnu:inputText>
                                <h:outputLabel value="#{messages.suffixC}" ></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.suffixx}" maxlength="50"></bnu:inputText>
                                <h:outputLabel value="#{messages.companyC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.company}" maxlength="50"></bnu:inputText>
                            </bnu:panel>
                            <bnu:panel span="6">

                                <h:outputLabel value="#{messages.displayN}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.displayName}" maxlength="50"></bnu:inputText>
                                <h:outputLabel value="#{messages.emailC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.email}" maxlength="50"></bnu:inputText>
                                <h:outputLabel value="#{messages.phoneC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.phone}" maxlength="20"></bnu:inputText>
                                <h:outputLabel value="#{messages.mobileC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.mobile}" maxlength="20"></bnu:inputText>
                                <h:outputLabel value="#{messages.faxC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.fax}" maxlength="20"></bnu:inputText>
                                <h:outputLabel value="#{messages.websiteC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.customer.webside}" maxlength="100"></bnu:inputText>

                            </bnu:panel>
                        </bnu:row>
                        <bnu:row>
                            <bnu:panel span="6">
                                <p><b>#{messages.billingA}</b></p>
                                <bnu:inputTextarea placeholder="#{messages.streetC}" value="#{customerController.customer.street}"></bnu:inputTextarea>
                                <bnu:inputText placeholder="#{messages.cityT}" value="#{customerController.customer.city}" maxlength="50"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.stateP}" value="#{customerController.customer.estate}" maxlength="50"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.postalCC}" value="#{customerController.customer.postalCode}" maxlength="50"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.countryC}" value="#{customerController.customer.country}" maxlength="50"></bnu:inputText>

                            </bnu:panel>
                            <bnu:panel span="6" id="pSH">
                                <h:outputLabel><b>#{messages.shippingA}</b></h:outputLabel>
                                <h:panelGrid columns="2">
                                    <p:selectBooleanCheckbox value="#{customerController.sameSHA}">
                                        <p:ajax update="pSH"/>
                                    </p:selectBooleanCheckbox>
                                    <h:outputText value="#{messages.sameSHA} " />
                                </h:panelGrid>
                                <bnu:inputTextarea placeholder="#{messages.streetC}" value="#{customerController.customer.streetS}" disabled="#{customerController.sameSHA}"></bnu:inputTextarea>
                                <bnu:inputText placeholder="#{messages.cityT}" value="#{customerController.customer.cityS}" disabled="#{customerController.sameSHA}"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.stateP}" value="#{customerController.customer.estateS}" disabled="#{customerController.sameSHA}"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.postalCC}" value="#{customerController.customer.postalCodeS}" disabled="#{customerController.sameSHA}"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.countryC}" value="#{customerController.customer.countryS}" disabled="#{customerController.sameSHA}"></bnu:inputText>

                            </bnu:panel>
                        </bnu:row>

                        <bnu:row>
                            <bnu:column span="6">
                                <bnu:commandButton value="#{messages.save}" look="success" 
                                                   action="#{customerController.registerC()}">
                                </bnu:commandButton>
                            </bnu:column>
                        </bnu:row>
                    </h:form>
                </bnu:modal>

                <!-- modal edit-->
                <bnu:modal id="bmodal" title="#{messages.custInfo}" styleClass="modalPseudoClass2" backdrop="false" >
                    <h:form id="editForm" >
                        <bnu:row>
                            <bnu:panel span="6">
                                <h:outputLabel value="#{messages.titleC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.title}"></bnu:inputText>
                                <h:outputLabel value="#{messages.fNameC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.firstname}"></bnu:inputText>
                                <h:outputLabel value="#{messages.midNameC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.middlename}"></bnu:inputText>
                                <h:outputLabel value="#{messages.lastNameC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.lastname}"></bnu:inputText>
                                <h:outputLabel value="#{messages.suffixC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.suffixx}"></bnu:inputText>
                                <h:outputLabel value="#{messages.companyC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.company}"></bnu:inputText>
                            </bnu:panel>
                            <bnu:panel span="6">

                                <h:outputLabel value="#{messages.displayN}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.displayName}"></bnu:inputText>
                                <h:outputLabel value="#{messages.emailC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.email}"></bnu:inputText>
                                <h:outputLabel value="#{messages.phoneC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.phone}"></bnu:inputText>
                                <h:outputLabel value="#{messages.mobileC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.mobile}"></bnu:inputText>
                                <h:outputLabel value="#{messages.faxC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.fax}"></bnu:inputText>
                                <h:outputLabel value="#{messages.websiteC}"></h:outputLabel>
                                <bnu:inputText value="#{customerController.cust.webside}"></bnu:inputText>

                            </bnu:panel>
                        </bnu:row>
                        <bnu:row>
                            <bnu:panel span="6">
                                <p><b>#{messages.billingA}</b></p>
                                <bnu:inputTextarea placeholder="#{messages.streetC}" value="#{customerController.cust.street}"></bnu:inputTextarea>
                                <bnu:inputText placeholder="#{messages.cityT}" value="#{customerController.cust.city}"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.stateP}" value="#{customerController.cust.estate}"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.postalCC}" value="#{customerController.cust.postalCode}"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.countryC}" value="#{customerController.cust.country}"></bnu:inputText>

                            </bnu:panel>
                            <bnu:panel span="6" id="pSHE">
                                <h:outputLabel><b>#{messages.shippingA}</b></h:outputLabel>
                                <h:panelGrid columns="2">
                                    <p:selectBooleanCheckbox value="#{customerController.sameSHA}">
                                        <p:ajax update="pSHE"/>
                                    </p:selectBooleanCheckbox>
                                    <h:outputText value="#{messages.sameSHA}" />
                                </h:panelGrid>
                                <bnu:inputTextarea placeholder="#{messages.streetC}" value="#{customerController.cust.streetS}" disabled="#{customerController.sameSHA}"></bnu:inputTextarea>
                                <bnu:inputText placeholder="#{messages.cityT}" value="#{customerController.cust.cityS}" disabled="#{customerController.sameSHA}"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.stateP}" value="#{customerController.cust.estateS}" disabled="#{customerController.sameSHA}"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.postalCC}" value="#{customerController.cust.postalCodeS}" disabled="#{customerController.sameSHA}"></bnu:inputText>
                                <bnu:inputText placeholder="#{messages.countryC}" value="#{customerController.cust.countryS}" disabled="#{customerController.sameSHA}"></bnu:inputText>

                            </bnu:panel>
                        </bnu:row>


                        <bnu:commandButton value="#{messages.save}" look="success" action="#{customerController.edit()}"  />

                    </h:form>
                </bnu:modal>


                <!-- modal delete-->
                <bnu:modal id="cmodal"  styleClass="modalPseudoClass3" backdrop="false" closable="false" closeOnEscape="false"  >
                    <h:form id="deleteForm">
                        <p>#{messages.deleteC}</p>
                        <bnu:commandButton value="#{messages.yes}" look="success" action="#{customerController.deleteCustomer()}" />
                        <bnu:button value="#{messages.No}" dismiss="modal" look="danger" />
                    </h:form>
                </bnu:modal>



            </ui:define>
        </ui:composition>   
    </h:body>
</html>

